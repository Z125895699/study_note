<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>

  <body>
    <button class="btn1">按钮1</button>
    <button class="btn2">按钮2</button>
    <script>
      const numbers = [5, 10, 2, 3, 4, 12];
      const double = numbers.map(function (number) {
        return number * 2;
      });
      //索引号 i  一个参数可以省略括号 显示返回
      const double2 = numbers.map((number, index) => {
        return `${index}:${number * 2}`;
      });

      //如果{}不省略 需要手动指定返回值 如果不指定返回值默认返回underfined
      const double2 = numbers.map((number) => {
        return number * 2;
      });
      console.log(double2);
      // 隐式返回 return去掉
      //当函数体只有一条语句或者表达式的时候  {}可以省略 {}省略会自动返回语句或者表达式
      const double3 = numbers.map((number) => number * 2);
      console.log(double3);
      // // 命名函数   在递归和解除事件绑定多用到
      function greet(name) {
        alert(`Hello${name}`);
      }
      greet('jelly');
      // //箭头函数 匿名函数
      const greet = (name) => {
        alert(`Hello${name}`);
      };
      greet('jelly');

      //箭头的左边放的是形参
      //没有形参 ()必须写不能省略 站位
      // let fun = () => console.log('1')
      // fun()

      //只有一个形参 可以省略()
      // let fun = a => console.log(a)
      // fun(1)

      //有多个形参 不可以省略()
      // let fun = (a, b) => console.log(a, b)
      // fun(1, 3)

      //箭头右边  函数体
      //当函数体只有一条语句或者表达式的时候  {}可以省略
      // let fun = (a, b) => console.log(a, b)
      // fun(1, 3)

      // 当函数体有多条语句或者表达式的时候  { } 不可以省略
      // let fun = (a, b) => {
      //   console.log(a, b)
      // }
      // fun(1, 3)

      let btns = document.querySelectorAll('button');
      //普通函数的this指向调用者
      // btns[0].addEventListener('click', function () {
      //   console.log(this);
      // })

      //箭头函数的this指向window 箭头函数没有自己的this，箭头函数的this不是调用的时候决定的,而是在定义的时候所处的对象就是它的this
      //拓展理解: 箭头函数的this看外层是否有函数
      // 如果有 外层函数的this就是内部箭头函数的this
      //如果没有 则this就是window
      btns[0].addEventListener('click', () => {
        console.log(this); // window
      });

      let obj = {
        name: '迪迦',
        getName() {
          btns[0].addEventListener('click', () => {
            console.log(this); //obj
          });
        },
      };
      obj.getName();

      let obj = {
        name: '迪迦',
        // 外层的箭头函数外层没有函数
        getName: () => {
          btns[0].addEventListener('click', () => {
            console.log(this); //obj
          });
        },
      };
      obj.getName();
    </script>
  </body>
</html>
